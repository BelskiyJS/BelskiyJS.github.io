(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{gz:()=>p,KA:()=>b,K0:()=>C,LU:()=>a});let e=[[],[],[],[],[],[],[],[],[]];const n={"+":"img/plus.svg","-":"img/minus.svg","*":"img/umn.svg","/":"img/delit.svg"};let o,i;function r(t,o){C(o);for(let t=0;t<=4;t++)e[2*t][1].innerHTML=`<img src="${n[p[2*t][1]]}" alt="${p[2*t][1]}" height="50%" width="50%">`,e[2*t][5].innerHTML=`<img src="${n[p[2*t][5]]}" alt="${p[2*t][5]}" height="50%" width="50%">`,e[1][2*t].innerHTML=`<img src="${n[p[1][2*t]]}" alt="${p[1][2*t]}" height="50%" width="50%">`,e[5][2*t].innerHTML=`<img src="${n[p[5][2*t]]}" alt="${p[5][2*t]}" height="50%" width="50%">`;-1==t&&(t=a(0,b.length));for(let n=0;n<=4;n++)for(let o=0;o<=4;o++)e[2*n][2*o].textContent="",e[2*n][2*o].setAttribute("data-edit",b[t][n][o]),"0"==b[t][n][o]&&(e[2*n][2*o].textContent=p[2*n][2*o]);i&&(i.classList.remove("select_td"),i=null),document.querySelector(".box-math").addEventListener("click",s),document.querySelector(".box-setup-keyboard").addEventListener("click",l),document.querySelector(".item-box-setup-button-prov").addEventListener("click",u),document.querySelector(".item-box-setup-button-hint").addEventListener("click",c);let r=document.querySelector(".item-box-setup-button-prov");r.addEventListener("click",u),r.classList.contains("item-box-setup-button-new-prov-border")&&(r.classList.remove("item-box-setup-button-new-prov-border"),r.querySelector(".item-box-setup-button-content").textContent="Проверка",r.querySelector(".item-box-setup-button-img").innerHTML='<img src="img/but_prov.svg" alt=" " height="100%" width="100%">')}function s(t){let e=t.target;if("DIV"!=e.tagName)return;if(1!=e.getAttribute("data-edit"))return;if(i&&i.classList.remove("select_td"),i=e,i.classList.add("select_td"),o)return;let n=document.createElement("input");n.value=e.textContent,n.type="text",n.maxLength="2",n.setAttribute("onkeypress","return event.charCode >= 48 && event.charCode <= 57"),n.setAttribute("oncontextmenu","return false"),n.setAttribute("onpaste","return false"),n.style.width="85%",n.style.height="85%",n.style.borderRadius="inherit",n.onblur=function(){e.textContent=this.value,n.remove()},n.onkeydown=function(t){"Enter"==t.key&&this.blur()},e.textContent="",e.append(n),n.focus()}function l(t){let e=t.target;"DIV"==e.tagName&&i&&"item-box-setup-keyboard"==e.className&&(i.textContent=e.textContent,document.querySelector(".box-setup-keyboard").removeEventListener("click",l),e.classList.add("click-keyboard"),setTimeout((()=>{e.classList.remove("click-keyboard"),document.querySelector(".box-setup-keyboard").addEventListener("click",l)}),100))}function u(t){i&&(i.classList.remove("select_td"),i=null),document.querySelector(".box-math").removeEventListener("click",s),document.querySelector(".box-setup-keyboard").removeEventListener("click",l),document.querySelector(".item-box-setup-button-hint").removeEventListener("click",c);let n=document.querySelector(".item-box-setup-button-prov");n.removeEventListener("click",u),n.classList.contains("item-box-setup-button-new-prov-border")||n.classList.add("item-box-setup-button-new-prov-border");let o=!0;for(let t=0;t<=4;t++)for(let n=0;n<=4;n++){let i=e[2*t][2*n];if("4"==i.getAttribute("data-edit"))continue;i.setAttribute("data-edit","2");let r=i.textContent,s=p[2*t][2*n];if(r!=s){o=!1,""===r&&(r="?"),i.textContent="";let t=document.createElement("div");t.classList.add("box-prov");let e=document.createElement("div");e.classList.add("div_ok_edit"),e.textContent=s,e.style.justifyContent="flex-end",e.style.paddingRight="2px",t.append(e);let n=document.createElement("div");n.classList.add("div_ok_edit"),n.textContent=r,n.style.justifyContent="left",n.style.paddingLeft="2px",n.style.color="rgb(222 59 59 / 95%)",t.append(n),i.append(t)}}o?(n.querySelector(".item-box-setup-button-content").textContent="Правильно",n.querySelector(".item-box-setup-button-img").innerHTML='<img src="img/but_prov_ok.svg" alt=" " height="100%" width="100%">'):(n.querySelector(".item-box-setup-button-content").textContent="Неправильно",n.querySelector(".item-box-setup-button-img").innerHTML='<img src="img/but_prov_bad.svg" alt=" " height="100%" width="100%">')}function c(t){if(i){for(let t=0;t<=4;t++)for(let n=0;n<=4;n++)if(e[2*t][2*n]==i){e[2*t][2*n].textContent=p[2*t][2*n];break}i.setAttribute("data-edit","4"),i.classList.remove("select_td"),i=null}}function a(t,e){let n=t+Math.random()*(e-t);return Math.floor(n)}o=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent);const d="*+-/";let m=!0;const b=[["01110","10101","11011","10101","01110"],["11011","01110","10101","01110","11011"],["11011","10101","01110","10101","11011"],["10101","01110","11011","01110","10101"],["01110","11011","10101","11011","01110"]];let p=[[],[],[],[],[],[],[],[],[]],g=[[],[],[],[],[],[],[],[],[]];function f(t){let e="";t<98&&(e+="+"),t>2&&(e+="-"),m&&(t<50&&(e+="*"),t%4==0&&(e+="/"));let n=e[a(0,e.length)],o=0,i=0;switch(n){case"*":o=2*a(0,Math.trunc(49/t))+2,i=t*o;break;case"+":o=2*a(0,Math.trunc((98-t)/2))+2,i=t+o;break;case"-":o=2*a(0,Math.trunc((t-2)/2))+2,i=t-o;break;case"/":let e=2,n=[];for(;e<10;)t%(2*e)==0&&(n.push(e),n.push(Math.trunc(t/e))),e+=2;o=n[a(0,n.length)],i=Math.trunc(t/o)}return{result1:t,result2:o,result3:i,rezZnak:n}}function v(t){let e,n;return m?(e=0,n=3,t>48&&(e=1),98==t&&(e=2),t%4!=0&&(n=2),t<4&&(n=1),[e,n]):(e=1,n=2,98==t&&(e=2),t<4&&(n=1),[e,n])}function h(t,e,n){let o=0,i=!1;switch(t){case"+":e+n<100&&(o=e+n,i=!0);break;case"-":e-n>0&&(o=e-n,i=!0);break;case"*":e*n<100&&(o=e*n,i=!0);break;case"/":e%(2*n)==0&&(o=Math.trunc(e/n),i=!0)}return{number3:o,isOk:i}}function x(t,e,n,o){let i,r,s,l,u,c,m,b,p,g,f,x,k,L,y=!1,w=[],E=[];for([i,r]=v(n),[s,l]=v(t),[u,c]=v(e),[m,b]=v(o),p=2;p<98;){for(let a=i;a<=r;a++)for(let i=s;i<=l;i++)for(let r=u;r<=c;r++)for(let s=m;s<=b;s++)({number3:g,isOk:L}=h(d[a],n,p)),L&&({number3:f,isOk:L}=h(d[i],t,p)),L&&({number3:x,isOk:L}=h(d[r],e,g)),L&&({number3:k,isOk:L}=h(d[s],o,f)),L&&x===k&&(w.push([p,g,f,x]),E.push([d[a],d[i],d[r],d[s]]));p+=2}if(0==w.length)return{isOk:y};y=!0;let C=a(0,w.length);p=w[C][0],g=w[C][1],f=w[C][2],x=w[C][3];let S=E[C][0];return{f1:p,f2:g,f3:f,f4:x,z2:E[C][1],z3:E[C][2],z4:S,z5:E[C][3],isOk:y}}function k(t,e,n,o,i,r,s,l,u,c,a,d,m,b,p){return[[t,c,e,"=",n],[a,"",d,"",m],[o,b,i,"=",r],["=","","=","","="],[s,p,l,"=",u]]}function L(t,e,n,o){let i,r,s,l,u,c,a,d,m,b,p,g,v,h=t,L=e,y=n,w=o;for(let t=1;t<=50;t++)return i=f(h),({result2:r,result3:s,rezZnak:d}=i),i=x(L,y,r,s),({isOk:v}=i),v?(({f1:l,f2:u,f3:c,f4:a,z2:m,z3:b,z4:p,z5:g}=i),k(h,L,y,r,l,u,s,c,a,w,d,m,b,p,g)):[]}function y(t,e,n,o){let i,r,s,l,u,c,a,d,m,b,p,g,v,h=t,L=e,y=n,w=o;for(let t=1;t<=50;t++)return i=f(h),({result2:r,result3:s,rezZnak:d}=i),i=x(r,s,L,y),({isOk:v}=i),v?(({f1:l,f2:u,f3:c,f4:a,z2:m,z3:b,z4:p,z5:g}=i),k(h,r,s,L,l,u,y,c,a,d,w,m,b,p,g)):[]}function w(t,e,n,o,i,r,s){let l,u,c,a,d,m,b,p,g,f,v=t,h=e,L=n,y=o,w=i,E=r,C=s;return l=x(h,L,w,E),({isOk:f}=l),f?(({f1:u,f2:c,f3:a,f4:d,z2:m,z3:b,z4:p,z5:g}=l),k(v,h,L,w,u,c,E,a,d,y,C,m,b,p,g)):[]}function E(t,e,n){for(let o=0;o<=4;o++)for(let i=0;i<=4;i++)p[o+t][i+e]=n[o][i]}function C(t){let e,n,o,i,r,s,l,u,c;m=t;for(let t=1;t<=50;t++){for(let t=1;t<=50&&(e=2*a(0,48)+2,r=f(e),({result1:e,result2:n,result3:o,rezZnak:i}=r),s=L(e,n,o,i),!(s.length>0));t++);E(0,0,s);for(let t=1;t<=50;t++){for(let t=1;t<=50&&(l=y(p[0][4],p[2][4],p[4][4],p[1][4]),!(l.length>0));t++);E(0,4,l);for(let t=1;t<=50&&(u=L(p[4][0],p[4][2],p[4][4],p[4][1]),!(u.length>0));t++);if(E(4,0,u),c=w(p[4][4],p[4][6],p[4][8],p[4][5],p[6][4],p[8][4],p[5][4]),c.length>0)break}if(c.length>0)break}E(4,4,c);for(let t=0;t<=8;t++)for(let e=0;e<=8;e++)g[t][e]=p[t][e];return p}window.addEventListener("load",(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((t=>{console.log("Service worker successfully registered",t)})).catch((t=>{console.log("Service worker registration failed",t)}))})),window.onload=(function(){let t=document.querySelector(".box-math");for(let n=0;n<9;n++)for(let o=0;o<9;o++){let i=document.createElement("div");i.classList.add("item-box-math"),n%2==0&&n%2==0&&i.setAttribute("data-edit",0),n>0&&o>0&&n%2!=0&&o%2!=0&&i.classList.add("not_data"),(n%2!=0||3!=o&&7!=o)&&(o%2!=0||3!=n&&7!=n)||(i.innerHTML='<img src="img/ravno.svg" alt="=" height="50%" width="50%">'),e[n][o]=i,t.append(i)}}(),function(){let t,e,n=document.querySelector(".box-setup-button");t=document.createElement("div"),t.classList.add("item-box-setup-button"),t.classList.add("item-box-setup-button-new"),t.onclick=()=>r(-1,!0),e=document.createElement("div"),e.classList.add("item-box-setup-button-img"),e.innerHTML='<img src="img/but_new.svg" alt=" " height="100%" width="100%">',t.append(e),e=document.createElement("div"),e.classList.add("item-box-setup-button-content"),e.textContent="Новый",t.append(e),n.append(t),t=document.createElement("div"),t.classList.add("item-box-setup-button"),t.classList.add("item-box-setup-button-hint"),e=document.createElement("div"),e.classList.add("item-box-setup-button-img"),e.innerHTML='<img src="img/but_hint.svg" alt=" " height="100%" width="100%">',t.append(e),e=document.createElement("div"),e.classList.add("item-box-setup-button-content"),e.textContent="Подсказка",t.append(e),n.append(t),t=document.createElement("div"),t.classList.add("item-box-setup-button"),t.classList.add("item-box-setup-button-newpm"),t.onclick=()=>r(-1,!1),e=document.createElement("div"),e.classList.add("item-box-setup-button-img"),e.innerHTML='<img src="img/but_newpm.svg" alt=" " height="100%" width="100%">',t.append(e),e=document.createElement("div"),e.classList.add("item-box-setup-button-content"),e.textContent="Новый",t.append(e),n.append(t),t=document.createElement("div"),t.classList.add("item-box-setup-button"),t.classList.add("item-box-setup-button-prov"),e=document.createElement("div"),e.classList.add("item-box-setup-button-img"),e.innerHTML='<img src="img/but_prov.svg" alt=" " height="100%" width="100%">',t.append(e),e=document.createElement("div"),e.classList.add("item-box-setup-button-content"),e.textContent="Проверка",t.append(e),n.append(t);let o=document.querySelector(".box-setup-keyboard");for(let e=1;e<50;e++)t=document.createElement("div"),t.classList.add("item-box-setup-keyboard"),t.textContent=2*e,o.append(t);t=document.createElement("div"),t.classList.add("item-box-setup-keyboard"),t.textContent="",o.append(t)}(),void r(-1,!0))})();